<html>

<head>
    <meta charset="utf-8">
    <title>title</title>
    <script src="https://cdn.bootcss.com/echarts/4.2.1-rc1/echarts.min.js"></script>
</head>

<body>
    <div id="main" style="width: 600px;height:400px;">
    </div>
    <script type="text/javascript"> //写js
        var legends = [];// 定义全局变量，准备存放图例数据
        var Series = []; // 准备存放图表数据
        var data1 = []
        var x = []

        //         if ('WebSocket' in window) {     //判断当前浏览器是否支持WebSocket
        //             var ws = new WebSocket('ws://10.0.0.3:8081/redies/hourData'); //创建对象，进行连接
        //         }
        //         else {
        //             alert('当前浏览器 Not support websocket')
        //         }

        //         ws.onopen = function() { //连接成功回调方法
        //             ws.send("hello");
        //         };
        //         ws.onmessage = function (jsons) { //接收到消息的回调方法，我这里是处理返回数据
        //             var map = jsons.resultOBJ; //存放 返回的resultOBJ对象
        //             console.log(map)
        //             for (var key in map){
        //                 var s = map[key];
        //                 legends.push(key);// 存放每一个折线数据
        // //                    console.log(key)
        //                 for (var key1 in s){
        //                     var a = s[key1];

        // //                        console.log(data1)
        // //                    console.log(key1)
        //                     data1.push(key1) //存放X轴数据
        //                     Series.push(a) // 存放Y轴数据
        //                 }
        //                 break; //只循环一次
        //             }

        // option.xAxis[0].data =data1 ;// 这一步是设置X轴数据了，需要注意：
        // // 折线图可设置上下两个X轴，所以必须是option.xAxis[0].data = json.xcontent
        // option.series.name = legends;// 设置图例
        // option.series.data = Series; // 设置图表
        // myChart.setOption(option);// 重新加载图表
        // };
        // ws.onclose = function() {
        //     console.log("关闭连接");
        // };
        // ws.onerror = function () {  //连接失败回调方法
        //     console.log("连接失败");
        // }
        var myChart = echarts.init(document.getElementById('main'));  // 直接开始初始化
        option = {
            title: {// 图表标题，
                text: '实例'
            },
            tooltip: {
                trigger: 'axis'
            },
            legend: {// 这个就是图例，也就是每条折线或者项对应的示例
                data: legends
            },
            toolbox: {
                feature: {
                    saveAsImage: {}// 工具，提供几个按钮，例如动态图表转换，数据视图，保存为图片等
                }
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',// 这几个属性可以控制图表上下左右的空白尺寸，可以自己试试。
                containLabel: true
            },
            xAxis: [
                {
                    type: 'category',
                    boundaryGap: false,
                    data: [1, 2, 3, 4, 5, 6, 7, 8, 9]// X轴数据
                }
            ],
            yAxis: [
                {
                    type: 'value'// Y轴的定义
                }
            ],
            series: [
                {
                    name: legends, //轴线名称
                    type: 'line', //折线形式
                    data: [10, 8, 6, 4, 2, 0, -2, -4, -6] //定义Y轴数据
                }
            ]
        };
        myChart.setOption(option); // 加载图表 
    </script>
</body>

</html>